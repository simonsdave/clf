#clf [![Requirements Status](https://requires.io/github/simonsdave/clf/requirements.svg?branch=master)](https://requires.io/github/simonsdave/clf/requirements/?branch=master)

CloudFeaster (clf) is a screen scraping infrastructure that leverages modern software engineering tools and trends to create
a spider authoring environment and operational infrastructure
which dramatically
simplifies the creation, maintenance and operation of spiders.

###The Opportunity
Screen scraping has been a key enabler of many thriving businesses.
When coupled with the seemingly unbounded desire for data,
the trend of using to spiders to gather data which power businesses
shows no sign of slowing down.

APIs are everywhere and increasingly businesses with a web presence
are expected
to have APIs and web sites which offer the same functionality.
While most businesses offer a visual interface for human consumption
of their offerings,
very few businesses, by comparison, offer RESTful APIs for
automated consumption of their offerings.
What if we had a RESTful API that invoked a
spider to crawl and interact with a web site?
Wouldn't that be an easy way to create a RESTful API for
a web site?

###The Problem
There are
[lots of screen scraping utilities](docs/other_screen_screen_scapers.md).
How is CloudFeaster so different?
Traditional spiders are written to mimic the network traffic
generated by a web browser when surfing a web site.
Historical it’s been hard to write spiders that use this approach
and it’s getting much harder as web sites increasingly leverage
AJAX patterns.
In addition, this approach to spider writing makes spiders very brittle
with even minor web site changes causing spiders to break
in ways that are often hard to debug.

###Trends

Adoption of automated testing has fueled a few very important trends:
1. web sites are now being built to simplify automated testing
and enable automated tests to be robust even in the face of web
site changes ie. web sites
are being built "correctly" with HTML for content,
CSS for look and feel and JavaScript for functionality
1. automated testing tools have become very robust

There are also important IaaS trends:
1. the number of IaaS providers is increasing
1. IaaS compute costs continue to drop
1. an increasing number of very capable CI services
are being built on IaaS offerings

###CloudFeaster's Approach
Write spiders using a high level scripting language (Python)
using tools designed for automated testing (Selenium).
This means:
  * spiders are very easy to write
  * spiders are reliable even in the face of most web site changes
  * possbile to outsource spider development and maintenance to offshore
  “QA engineers”

Use a RESTful API for invoking spiders and host the API
on an IaaS provider. To run a spider, the RESTful API spins
up a headless browser
in the IaaS and runs the spider against the headless browser.

##Development
The following instructions describe how to setup a your development environment on Mac OS X.

Install
[Command Line Tools for Xcode](https://developer.apple.com/downloads/index.action)
otherwise you'll find it hard to debug the error messages produced by
during ```source cfg4dev```.

Get the source code and configure the development environment
by running the following in a new terminal window

```bash
>cd
>git clone https://github.com/simonsdave/clf.git
>cd clf
>source cfg4dev
<<<snip lots>>>
(env)>
```

Both unit and integration tests are executed using
[nose](http://nose.readthedocs.org/en/latest/).
All integration tests are tagged with the
[attr](http://nose.readthedocs.org/en/latest/plugins/attrib.html) ```integration```.

To run all tests go to clf's root directory and run

```bash
(env)>nosetests
.......................................................................................................................................
----------------------------------------------------------------------
Ran 135 tests in 92.139s

OK
(env)>
```

To execute just unit tests go to clf's root directory and run

```bash
(env)>nosetests -A "not integration"
....................................................................................................................
----------------------------------------------------------------------
Ran 116 tests in 0.886s

OK
(env)>
```

To execute all integration tests go to clf's root directory and run

```bash
(env)>nosetests -A "integration"
...................
----------------------------------------------------------------------
Ran 19 tests in 90.787s

OK
(env)>
```
